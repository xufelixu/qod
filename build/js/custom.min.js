!function(e){e(document).ready(function(){let t="";e("#new-quote-button").on("click",function(o){o.preventDefault(),t=document.URL,e.ajax({method:"GET",url:qod_vars.rest_url+"wp/v2/posts?filter[orderby]=rand&filter[posts_per_page]=1"}).done(function(t){console.log(t[0]);const o=t[0]._qod_quote_source_url,n=t[0]._qod_quote_source,r=t[0].content.rendered,u=t[0].title.rendered;e(".entry-content").empty(),e(".entry-content").append(r),e(".entry-title").empty(),e(".entry-title").append("&mdash;"+u),e(".source").empty(),n.length>0&&o.length>0?e(".source").append(',<a href=" '+o+' ">'+n+"</a>"):n.length>0&&e(".source").append(","+n),history.pushState(null,null,qod_vars.home_url+"/"+t[0].slug)}).fail(function(){e(".entry-content").empty(),e(".entry-title").empty(),e(".source").empty(),e(".entry-content").append("It is fine to celebrate success"),e(".entry-title").append("&mdashBill Gates"),e(".source").append("error")})}),e(window).on("popstate",function(){window.location.replace(t)}),e("#quote-submission-form").on("submit",function(t){t.preventDefault(),function(){const t=e("#quote-auther").val(),o=e("#quote-content").val(),n=e("#quote-source").val(),r=e("#quote-source-url").val();e.ajax({method:"post",url:qod_vars.rest_url+"wp/v2/posts",data:{title:t,content:o,_qod_quote_source:n,_qod_quote_source_url:r,status:"publish"},beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",qod_vars.nonce)}}).done(function(){console.log(),e("#quote-submission-form").hide(),e(".quote-submission-wrapper").append("<p>"+qod_vars.success+"</p>")}).fail(function(){console.log(),e("#quote-submission-form").hide(),e(".quote-submission-wrapper").append("<p>"+qod_vars.failture+"</p>")})}()})})}(jQuery);